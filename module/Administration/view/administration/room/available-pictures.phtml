<?php
$this->headTitle($this->escapeHtml($this->translate('Available pictures')));
?>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <strong><span class="glyphicon glyphicon-bed"></span> <?= $this->escapeHtml($this->translate('Rooms')) ?>:</strong>
        <li class="breadcrumb-item"><a href="<?= $this->url('administrationRoom') ?>"><?= $this->escapeHtml($this->translate('List of rooms')) ?></a></li>
        <li class="breadcrumb-item"><a href="<?= $this->url('administrationRoom', ['action' => 'edit', 'id' => $id]) ?>"><?= $this->escapeHtml($this->translate('Edit room')) ?></a></li>
        <li class="breadcrumb-item active" aria-current="page"><?= $this->escapeHtml($this->translate('List of available pictures')) ?></li>
    </ol>
</nav>

<div class="well nobottom">
    <?= $this->form()->openTag($form) ?>

    <fieldset>
        <legend><?= $this->escapeHtml($this->translate('List of available pictures')) ?></legend>

        <div style="overflow: auto visible">
            <a class="btn btn-default btn-sm" href="<?= $this->url(NULL, ['action' => 'selectedPictures', 'id' => $id]) ?>" style="white-space: nowrap">
                <span class="glyphicon glyphicon-filter"></span> <?= $this->escapeHtml($this->translate('Show selected pictures')) ?>
            </a>
            <span class="btn btn-default btn-sm" onclick="(function () {
                        $('input[name=\'pictures&#x5B;&#x5D;\']').click();
                    })()">
                <span class="glyphicon glyphicon-random"></span> <?= $this->escapeHtml($this->translate('Inverse select')) ?>
            </span>
            <?= $this->formButton()->openTag($form->get('add')) ?>
            <span class="glyphicon glyphicon-plus"></span> <?= $this->escapeHtml($this->translate('Add selected to room')) ?>
            <?= $this->formButton()->closeTag() ?>

            <p>
                <?php foreach ($pictures as $picture) { ?>
                <div class="img-thumbnail">
                    <img src="<?= $this->url('administrationPicture', ['action' => 'thumbnail', 'id' => $picture->getId()]) ?>" width="<?= $this->thumbnailWidth ?>">
                    <div class="caption caption-checkbox" data-button="#add">
                        <label>
                            <input class="icon-checkbox" type="checkbox" name="pictures&#x5B;&#x5D;" value="<?= $picture->getId() ?>"><?= $picture->getId() ?>
                        </label>
                    </div>
                </div>
            <?php } ?>
            </p>
        </div>
    </fieldset>

    <?= $this->form()->closeTag() ?>
</div>

<?= $this->paginationControl($pictures, 'Sliding', 'paginator/paginator', ['route' => NULL, 'params' => ['action' => 'availablePictures'], 'queryParams' => $this->pictureQueryManager->getParams()]) ?>
